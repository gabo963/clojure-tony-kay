{"version":3,"sources":["app/client.cljs"],"mappings":"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","names":["options__60265__auto__","_","props","com.fulcrologic.fulcro.components/wrapped-render","map__66990","com.fulcrologic.fulcro.components/props","cljs.core/--destructure-map","cljs.core.get","js/app","js/app.client","js/app.client.Car","com.fulcrologic.fulcro.components/react-constructor","com.fulcrologic.fulcro.components/configure-component!","app.client/Car","this","id","model","com.fulcrologic.fulcro.dom.macro_create_element","app.client/ui-car","com.fulcrologic.fulcro.components.factory","app.client/make-older","com.fulcrologic.fulcro.mutations/->Mutation","com.fulcrologic.fulcro.mutations/mutate","fulcro-mutation-env-symbol","map__66991","p__66992","map__66993","*after-render*-orig-val__66994","com.fulcrologic.fulcro.raw.components/*after-render*","*after-render*-temp-val__66995","env","*after-render*-orig-val__66996","*after-render*-temp-val__66997","temp__5804__auto__","com.fulcrologic.fulcro.algorithms.lookup/app-algorithm","default-action","state","cljs.core.swap_BANG_","cljs.core/update-in","cljs.core/inc","map__66998","js/app.client.Person","app.client/Person","name","age","cars","com.fulcrologic.fulcro.components.get_query","com.fulcrologic.fulcro.dom/macro-create-element*","com.fulcrologic.fulcro.components/force-children","com.fulcrologic.fulcro.components.transact_BANG_","G__66999","cljs.core.map","app.client/ui-person","p__67000","map__67001","map__67002","js/app.client.PersonList","app.client/PersonList","people","cnt","cljs.core.reduce","p__67003","map__67004","c","app.client/ui-person-list","map__67005","js/app.client.Root","app.client/Root","list","js/app.client.APP","app.client/APP","com.fulcrologic.fulcro.application.fulcro_app","com.fulcrologic.fulcro.networking.http-remote/fulcro-http-remote","app.client/init","com.fulcrologic.fulcro.application.mount_BANG_"],"sourcesContent":["(ns app.client\n  (:require\n    [com.fulcrologic.fulcro.application :as app]\n    [com.fulcrologic.fulcro.components :as comp :refer [defsc]]\n    [com.fulcrologic.fulcro.dom :as dom :refer [div ul li h1 h2 h3 h4 button]]\n    [com.fulcrologic.fulcro.networking.http-remote :as http]\n    [com.fulcrologic.fulcro.algorithms.merge :as merge]\n    [com.fulcrologic.fulcro.mutations :refer [defmutation]]\n    [com.fulcrologic.fulcro.algorithms.data-targeting :as targeting]))\n\n(defsc Car [this {:car/keys [id model] :as props}]\n  {:query [:car/id :car/model]\n   :ident :car/id}\n  (div (h4 model)))\n\n(def ui-car (comp/factory Car {:keyfn :car/id}))\n\n(defmutation make-older [{:person/keys [id]}]\n  (action [{:keys [state]}]\n    (swap! state update-in [:person/id id :person/age] inc)))\n\n(defsc Person [this {:person/keys [id name age cars] :as props}]\n  {:query [:person/id :person/name :person/age {:person/cars (comp/get-query Car)}]\n   :ident :person/id}\n  (div :.ui.segment {}\n    (h2 \"Name: \" name)\n    (h2 \"Age: \" age)\n    (button :.ui.button {:onClick\n      #(comp/transact! this [(make-older {:person/id id})] {:refresh [:person-list/people]})} \"Make Older\")\n    (h2 \"id: \" id)\n    (h2 \"Cars:\")\n    (ul (map ui-car cars)))\n  )\n\n(def ui-person (comp/factory Person {:keyfn :person/id}))\n\n(defsc PersonList [this { :person-list/keys [people]}]\n  {:query [{:person-list/people (comp/get-query Person)}]\n   :ident (fn [] [:component/id ::person-list])}\n  (div\n    (let [cnt (reduce (fn [c {:person/keys [age]}]\n                        (if (> age 30) (inc c) c)) 0 people)]\n    (h2 \"People Over 30: \" cnt))\n    (ul (map ui-person people))\n  ))\n\n(def ui-person-list (comp/factory PersonList))\n\n(defsc Root [this {:root/keys [list]}]\n  {:query [{:root/list (comp/get-query PersonList)}]}\n  (div :.ui.segment{}\n    (if list\n      (div (h1 \"People\")\n           (ui-person-list list))\n      (h3 \"Loading...\"))))\n\n(defonce APP (app/fulcro-app {:remotes {:remote (http/fulcro-http-remote {})}}))\n\n(defn ^:export init []\n  (app/mount! APP Root \"app\"))\n"]}